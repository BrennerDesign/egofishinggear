function showHideProducts(e,t){var n=e.attr("id");if(e.is(":checked"))$(".product_specs.cards .product_card."+n).fadeIn();else if($(".filter_expand input[type=checkbox]").is(":checked"))$(".product_specs.cards .product_card."+n).fadeOut();else{e.closest(".filter_expand").removeClass("checked");$(".product_specs.cards .product_card").fadeIn()}}function getParameterByName(e,t){t||(t=window.location.href);e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),r=n.exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}function updateSelectedFilters(){var e=[];$('.filter_expand .options input[type="checkbox"]:checked').each(function(){e.push($(this).val())});selectedFilters=e;insideSetTheFilters||pushTheFilters()}function pushTheFilters(){var e=window.location.pathname;if(selectedFilters.length>0)var e=window.location.pathname+"?filters="+selectedFilters.join(",");history.pushState(null,null,e)}function setTheFilters(e){$('.filter_expand .options input[type="checkbox"]').each(function(){$(this).is(":checked")&&$(this).prop("checked",!1)});var t=["length","size","type","bags"],n=t.length,r=getParameterByName("filters");if(r==null)$(".product_specs.cards .product_card").fadeIn();else{$(".product_specs.cards .product_card").fadeOut();var i=r.split(",");if(i.length>0)for(var s=0;s<i.length;s++){var o=i[s];$(".filter_expand input#"+o).prop("checked",!0);showHideProducts($(".filter_expand input#"+o),!1);$(".filter_expand.expanded").removeClass("expanded").css("display","none");var u=$("input#"+o).closest(".filter_expand"),a=u.attr("class");u.addClass("expanded").css("display","block");for(var f=0;f<n;f++){var l=t[f];a&&(a.indexOf(l)!==-1?$(".filter_title."+l+" .selected_box").addClass("selected").css("display","block"):$(".filter_title."+l+" .selected_box.selected").removeClass("selected").css("display","none"))}}}}var selectedFilters=[],insideSetTheFilters=!1,replacementTab="bags";window.addEventListener("popstate",function(e){$(".filter_block.replacement").length>0?$(".filter_title."+replacementTab).trigger("click"):setTheFilters()});$(document).ready(function(){function c(){$.scrollTo($(".expanded"),"slow",{offset:-150})}function p(){$(".top_nav_bar ul").animate({right:"-=380"},200,function(){$(".mobile_nav").removeClass("active")})}setTheFilters(!0);var e=$(window).height(),t=$(window).width(),n=$(document).height();$("#product_slider").flexslider({animation:"slide",animationLoop:!0,controlNav:!0,directionNav:!0,slideshow:!1,animationSpeed:800});$("#ad_slider").flexslider({animation:"slide",animationLoop:!0,controlNav:!1,directionNav:!0,slideshow:!1,animationSpeed:800});$(".replacement_slider").flexslider({animation:"slide",animationLoop:!0,controlNav:!1,directionNav:!0,slideshow:!1,animationSpeed:800});$(".play_btn").magnificPopup({type:"iframe",iframe:{patterns:{youtube:{index:"youtube.com/",id:"v=",src:"h%id%?autoplay=1"}},srcAction:"iframe_src"}});$(".sub_nav_link").hoverIntent(function(){if(!$(this).hasClass("active")&&t>980){$(this).find(".sub-menu-cont").css("display","block");$(this).find(".hover_bar").css("background-color","#CC1015");$(this).find(".sub-menu").animate({top:0},400)}},function(){if(!$(this).hasClass("active")&&t>980){$(this).find(".hover_bar").css("background-color","transparent");$(this).find(".sub-menu").animate({top:-300},400,function(){$(this).parent().css("display","none")})}});$(".selected_box.selected").click(function(e){e.preventDefault();if(!$(this).parent().hasClass("bags")){$(".filter_expand.expanded").slideUp(200,function(){$(this).removeClass("expanded")});$(this).delay(230).fadeOut(120,function(){$(this).removeClass("selected")})}});$(".filter_title.length").click(function(e){e.preventDefault();if($(this).find(".selected_box").hasClass("selected")){$(".filter_expand.expanded").slideUp(200,function(){$(this).removeClass("expanded")});$(this).find(".selected_box").delay(230).fadeOut(120,function(){$(this).removeClass("selected")})}else{$(".filter_expand.expanded").slideUp(200,function(){$(this).removeClass("expanded");$(this).removeClass("checked")});$(".selected_box.selected").fadeOut(120,function(){$(this).removeClass("selected")});$(".filter_expand input[type=checkbox]").prop("checked",!1);$(".product_specs.cards .product_card").fadeIn();selectedFilters=[];pushTheFilters();$(".filter_expand.length").slideDown(200,function(){$(this).addClass("expanded")});$(this).find(".selected_box").delay(230).fadeIn(120,function(){$(this).addClass("selected")})}});$(".filter_title.size").click(function(e){e.preventDefault();if($(this).find(".selected_box").hasClass("selected")){$(".filter_expand.expanded").slideUp(200,function(){$(this).removeClass("expanded")});$(this).find(".selected_box").delay(230).fadeOut(120,function(){$(this).removeClass("selected")})}else{$(".filter_expand.expanded").slideUp(200,function(){$(this).removeClass("expanded");$(this).removeClass("checked")});$(".selected_box.selected").fadeOut(120,function(){$(this).removeClass("selected")});$(".filter_expand input[type=checkbox]").prop("checked",!1);$(".product_specs.cards .product_card").fadeIn();selectedFilters=[];pushTheFilters();$(".filter_expand.size").slideDown(200,function(){$(this).addClass("expanded")});$(this).find(".selected_box").delay(230).fadeIn(120,function(){$(this).addClass("selected")})}});$(".filter_title.type").click(function(e){e.preventDefault();if($(this).find(".selected_box").hasClass("selected")){$(".filter_expand.expanded").slideUp(200,function(){$(this).removeClass("expanded")});$(this).find(".selected_box").delay(230).fadeOut(120,function(){$(this).removeClass("selected")})}else{$(".filter_expand.expanded").slideUp(200,function(){$(this).removeClass("expanded");$(this).removeClass("checked")});$(".selected_box.selected").fadeOut(120,function(){$(this).removeClass("selected")});$(".filter_expand input[type=checkbox]").prop("checked",!1);$(".product_specs.cards .product_card").fadeIn();selectedFilters=[];pushTheFilters();$(".filter_expand.type").slideDown(200,function(){$(this).addClass("expanded")});$(this).find(".selected_box").delay(230).fadeIn(120,function(){$(this).addClass("selected")})}});$(".filter_title.hoop").click(function(e){e.preventDefault();replacementTab="hoop";if(!$(this).find(".selected_box").hasClass("selected")){$(".product_specs.cards .product_card.bags, .product_specs.cards .product_card.parts").fadeOut();$(".product_specs.cards .product_card.hoop").fadeIn();$(".filter_expand.expanded").slideUp(200,function(){$(this).removeClass("expanded")});$(".selected_box.selected").removeClass("selected");$(this).find(".selected_box").delay(10).addClass("selected")}});$(".filter_title.parts").click(function(e){e.preventDefault();replacementTab="parts";if(!$(this).find(".selected_box").hasClass("selected")){$(".product_specs.cards .product_card.hoop, .product_specs.cards .product_card.bags").fadeOut();$(".product_specs.cards .product_card.parts").fadeIn();selectedFilters=[];pushTheFilters();$(".filter_expand.expanded").slideUp(200,function(){$(this).removeClass("expanded")});$(".selected_box.selected").removeClass("selected");$(this).find(".selected_box").delay(10).addClass("selected")}});$(".filter_title.bags").click(function(e){e.preventDefault();replacementTab="bags";if(!$(this).find(".selected_box").hasClass("selected")){$(".product_specs.cards .product_card.hoop, .product_specs.cards .product_card.parts").fadeOut();$(".product_specs.cards .product_card.bags").fadeIn();$(".filter_expand.bags").slideDown(200,function(){$(this).addClass("expanded")});$(".selected_box.selected").removeClass("selected");$(this).find(".selected_box").delay(10).addClass("selected")}});$(".product_specs.cards .product_card.hoop, .product_specs.cards .product_card.parts").fadeOut();$(".filter_expand input").click(function(){var e=$(this).closest(".filter_expand");if(!e.hasClass("checked")){e.addClass("checked");$(".product_specs.cards .product_card").fadeOut()}});$('.filter_expand .options input[type="checkbox"]').each(function(){var e=$(this).attr("id");$(".filter_expand input#"+e).is(":checked")&&$(".product_specs.cards .product_card."+e).fadeIn();$(".filter_expand input#"+e).click(function(){showHideProducts($(this),!0);updateSelectedFilters()})});t<980&&$(".top_nav_bar ul.main_menu").css("height",n);var r=(523-t)/2*-1,i=($(".ad_block.text_ad img").width()-$(".ad_block.text_ad").width())/2*-1;i<0&&($(".product_ads").hasClass("home")||$(".ad_block.text_ad img").css("margin-left",i));if(t<2e3){var s=(2e3-t)/2*-1,o=(2e3-t)/2*-1;$("img.header_bgd_img").css("left",s);$("img.header_bgd_img.about").css("left",o)}else{$("img.header_bgd_img").css("left","0");$("img.header_bgd_img.about").css("left","0")}var u=(1400-t)/2*-1;if(t<1400){u=(1400-t)/2*-1;$("img.featured_prod").css("left",u)}else if(t<580){u=(810-t)/2*-1;$("img.featured_prod").css("left",u)}var a=-20;if(t<1160){a=(1200-t)/2*-1;$("img.backgrnd").css("left",a);$(".product_ads.kryptek .ad_block.awards_block img.background").css("left",a)}else $("img.backgrnd").css("left",a);var f=$(".ad_block.spec_block").height();t>680&&($(".product_ads").hasClass("kryptek")||f>0&&$(".ad_block.text_ad").css("height",f));var l=$(".ad_block.awards_block").height();t>680&&l>0&&$(".ad_block.text_ad").css("height",l);$(".top_nav_bar a.has_sub_menu").click(function(e){e.preventDefault();if(t<980)if($(this).hasClass("expanded")){$(this).removeClass("expanded");$(this).next().css("display","none");$(".top_nav_bar .sub_nav_link").css("display","block").css("border-bottom","2px solid #c4c4c4")}else{$(this).addClass("expanded");$(".top_nav_bar .sub_nav_link").css("display","none").css("border-bottom","none");$(this).parent().css("display","block");$(this).next().css("display","block")}});$(".product_expander").click(function(e){e.preventDefault();if($(this).hasClass("expanded")){$(this).removeClass("expanded");$(this).next().slideUp()}else{$(this).addClass("expanded");$(this).next().slideDown()}});var h=0;$(".mobile_nav").mousedown(function(){$(document).mousemove(function(){h=1})});$(document).mouseup(function(){h=0;$(document).unbind("mousemove")});$(".mobile_nav").click(function(e){e.preventDefault();if(h==0)if($(".mobile_nav").hasClass("active"))p();else{$(".mobile_nav").addClass("active");$(".top_nav_bar ul.sub_menu").animate({right:"0"},200);$(".top_nav_bar ul.main_menu").animate({right:"-5.5%"},200)}});$(".top_nav_bar ul").bind("click touchstart",function(){t>980&&p()});$(".menu-top_nav-container a").bind("click touchstart",function(e){e.stopPropagation()});var d=$(window).width(),v=d;$(window).resize(function(){t=$(window).width();e=$(window).height();n=$(document).height();t<980?$(".top_nav_bar ul.main_menu").css("height",n):$(".top_nav_bar ul.main_menu").css("height","auto");var r=(523-t)/2*-1,i=($(".ad_block.text_ad img").width()-$(".ad_block.text_ad").width())/2*-1;i<0?$(".ad_block.text_ad img").css("margin-left",i):$(".ad_block.text_ad img").css("margin-left","0");if(t<2e3){var s=(2e3-t)/2*-1,o=(2e3-t)/2*-1;$("img.header_bgd_img").css("left",s);$("img.header_bgd_img.about").css("left",o)}else{$("img.header_bgd_img").css("left","0");$("img.header_bgd_img.about").css("left","0")}if(t<1400){u=(1400-t)/2*-1;$("img.featured_prod").css("left",u)}else if(t<580){u=(810-t)/2*-1;$("img.featured_prod").css("left",u)}else $("img.featured_prod").css("left","0");var a=-20;if(t<1160){a=(1200-t)/2*-1;$("img.backgrnd").css("left",a);$(".product_ads.kryptek .ad_block.awards_block img.background").css("left",a)}else $("img.backgrnd").css("left",a);var f=$(".ad_block.spec_block").height();t>680?$(".product_ads").hasClass("kryptek")||f>0&&$(".ad_block.text_ad").css("height",f):$(".ad_block.text_ad").css("height","auto");var l=$(".ad_block.awards_block").height();t>680?l>0&&$(".ad_block.text_ad").css("height",l):$(".ad_block.spec_block").css("height","auto");if(t>980){$(".hover_bar").css("background-color","transparent");$(".sub-menu").css("top","-300px");$(".sub-menu-cont").css("display","none");$(".top_nav_bar .sub_nav_link").css("display","inline-block").css("border-bottom","none");$(".top_nav_bar a.has_sub_menu").removeClass("expanded");$(".top_nav_bar a.has_sub_menu").next().css("display","block")}else if(t!=v){$(".sub-menu").css("top","0");$(".top_nav_bar a.has_sub_menu").next().css("display","none");$(".top_nav_bar .sub_nav_link").css("display","block").css("border-bottom","2px solid #c4c4c4")}v=t})});